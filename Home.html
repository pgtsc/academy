<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <title>PGTSC</title>
    <style>
      .sidebar { position: fixed; top: 0; left: 0; width: 220px; height: 100vh; z-index: 10; background: rgb(16, 9, 213); transition: all 0.4s ease;}
      .sidebar.collapsed { width: 80px; }
      .sidebar.collapsed .sidebar_header h2 {opacity: 0; transition: opacity 0.4s; }
      .sidebar .sidebar_mid {height: calc(100vh - 160px); overflow-y: auto; scrollbar-width: thin; scrollbar-color: transparent transparent; padding: 5px 10px;}
      .sidebar .sidebar_mid:hover {scrollbar-color: white black; }
      .sidebar.collapsed .sidebar_mid { overflow: unset;}
      .sidebar .sidebar_bottom{padding: 5px 10px; position: absolute; bottom: 2px; width: 100%;}
      .btn_item {position: relative; list-style: none;}
      .sidebar_btn, .dropdown_btn, .menu_btn {font-size: 16px; color: #f7f7f7; background: transparent; display: flex; align-items: center; gap: 5px;
        white-space: nowrap; width: 100%; margin-bottom: 2px; border-radius: 8px; border:none; padding: 12px 10px; transition: 0.4s ease; }
      .menu_title { border-radius: 8px; padding: 5px; border: none; white-space: nowrap;}
      .btn_item:hover :where(.sidebar_btn, .dropdown_btn){color: #152d1f; background: #EEF2FF; }
      .menu_btn:hover{color: #152d1f; background: #EEF2FF;}
      .drpdown_container.open .dropdown_btn{color: #152d1f; background: #EEF2FF;}
      .sidebar.collapsed .btn_item :where(.nav-label, .dropdown-icon) { opacity: 0; pointer-events: none;}
      .sidebar .btn_item :where(.nav-label, .dropdown-icon) {transition: opacity 1s ease;}

      .sidebar_mid .drpdown_container .dropdown-icon { margin: 0px 2px 0px auto; transition: transform 0.4s ease;}
      .sidebar_mid .drpdown_container.open .dropdown-icon {transform: rotate(180deg);}
      .drpdown-menu { height: 0; overflow-y: hidden; transition: height 0.4s ease; padding-left: 15px;}
      
      .sidebar.collapsed .drpdown-menu {
        position: absolute; top: 0px; left: 100%; opacity: 0; height: auto !important; padding: 2px 10px; overflow-y: unset; pointer-events: none; 
        border-radius: 0 10px 10px 0; background: #151A2D; transition: 0s;}
      .sidebar.collapsed .btn_item:hover>.drpdown-menu { opacity: 1; pointer-events: auto;  transition: all 0.4s ease;}
      .drpdown-menu .menu_title { display: none;}
      .sidebar.collapsed .drpdown-menu .menu_title {display: block; color: #fff; padding-left: 2px;}

      .sidebar.collapsed .btn_item{ height: 50px; width: 50px;} 
      .topbar{position:fixed; top: 0; left:220px; width: calc(100% - 220px); height: 50px; box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
        display: flex; justify-content: space-between; align-items: center; padding-left: 15px; padding-right: 15px; transition: all 0.4s;}
      .topbar_left, .topbar_right{display: flex; gap: 10px;}
      .topbar.topbar_full, .main_content.main_content_full{ left:80px; width: calc(100% - 80px); transition: all 0.4s;}
      .main_content{ position: fixed; top: 50px; left:220px; width: calc(100% - 220px); height:calc(100vh - 50px); overflow-y: auto; padding:5px 10px; transition: all 0.4s; 
        background-color: rgba(208, 210, 213, 0.8);}
      .insert_div{ display: flex; width: 100%; justify-content: center; align-items: center; flex-direction: column;}
       a,a:hover,a:focus{text-decoration:none;}

      /* Responsive media query code for small screens */
      @media (max-width: 768px) {.sidebar.collapsed { width: 270px; left: -270px; }
      .topbar.topbar_full, .main_content.main_content_full{ width: 100vw; left: 0px;}
      }
    </style>

  </head>
  <body>
    <aside class="sidebar">
      <header class="sidebar_header d-flex align-items-center px-3 py-4 text-light">
        <!-- Sidebar Header -->
        <img id="logo" src="logo.jpg" class="rounded-circle me-2" width="46" height="46" alt="logo">
        <h2>PGTSC</h2>
      </header>

      <nav class="sidebar_mid">
        <!-- Sidebar Middle -->
        <li class="btn_item">
          <button class="sidebar_btn" onclick="openDashBoard()">
            <span class="material-symbols-rounded">dashboard</span>
            <span class="nav-label">Home</span>
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Home <div></div>
        </li>
        <!-- Dropdown -->
        <li class="btn_item drpdown_container">
          <button class="dropdown_btn">
            <span class="material-symbols-rounded">person_add</span>
            <span class="nav-label">Admission</span>
            <span class="dropdown-icon material-symbols-rounded">keyboard_arrow_down</span>
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Admission</div>
            <a class="menu_btn" href="Admission.html" target="_blank">Apply for Admission</a>
            <button class="menu_btn" onclick="applicationList()">Application List</button>
          </div>
        </li>
        <li class="btn_item">
          <button class="sidebar_btn" onclick="searchStudent()">
            <span class="material-symbols-rounded">school</span>
            <span class="nav-label">Student</span>
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Student</div>
          </div>
        </li>



        <li class="btn_item drpdown_container">
          <button class="dropdown_btn">
            <span class="material-symbols-rounded">assignment</span>
            <!-- It is a Icon-->
            <span class="nav-label">Exam</span>
            <span class="dropdown-icon material-symbols-rounded">keyboard_arrow_down</span>
            <!-- It is a arrow Icon-->
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Exam</div>
            <button class="menu_btn">Admit Card</button>
            <a href="marksEntry.html" class="menu_btn" target="_blank">Marks Entry</a>            
          </div>
        </li>
        <li class="btn_item drpdown_container">
          <button class="dropdown_btn">
            <span class="material-symbols-rounded">bar_chart</span>
            </span>
            <!-- It is a Icon-->
            <span class="nav-label">Result</span>
            <span class="dropdown-icon material-symbols-rounded">keyboard_arrow_down</span>
            <!-- It is a arrow Icon-->
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Result</div>
            <a href="academicResult.html" class="menu_btn" target="_blank">Academic Result</a>
            <a href="boardResult.html" class="menu_btn" target="_blank">Board Result</a>
          </div>
        </li>
         <li class="btn_item">
          <button class="sidebar_btn" onclick="teacherList()">
            <span class="material-symbols-rounded">article_person</span>
            <span class="nav-label">Teacher</span>
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Teacher</div>
          </div>
        </li>
        
        <li class="btn_item">
          <button class="sidebar_btn" onclick="stipendInfo()">
            <span class="material-symbols-rounded">payments</span>
            <span class="nav-label">Stipend</span>
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Stipend</div>
          </div>
        </li>
        <li class="btn_item">
          <button class="sidebar_btn" onclick="gotoRoutine()">
            <span class="material-symbols-rounded">calendar_month</span>
            <span class="nav-label">Class Routine</span>
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Class Routine</div>
          </div>
        </li>
        <li class="btn_item">
          <button class="sidebar_btn" onclick="gotoStudentIDCard()">
            <span class="material-symbols-rounded">badge</span>
            <span class="nav-label">Student ID Card</span>
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Student ID Card</div>
          </div>
        </li>
        <li class="btn_item drpdown_container">
          <button class="dropdown_btn">
            <span class="material-symbols-rounded">Monitoring</span>
            <!-- It is a Icon-->
            <span class="nav-label">Statistics</span>
            <span class="dropdown-icon material-symbols-rounded">keyboard_arrow_down</span>
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Statistics</div>
            <button class="menu_btn">Student</button>
            <button class="menu_btn">Result</button>
          </div>
        </li>
      </nav>
      <div class="sidebar_bottom">
        <li class="btn_item">
          <button class="sidebar_btn">
            <span class="material-symbols-rounded">logout</span>
            <span class="nav-label">Sign Out</span>
          </button>
          <div class="drpdown-menu">
            <div class="menu_title">Sign Out</div>
          </div>
        </li>
      </div>
    </aside>
    <div class="topbar">
      <div class="topbar_left">
        <button class="mobile_menu_Btn btn btn-light"><span class="material-symbols-rounded">menu</span></button></div>
      </div>
      <div class="topbar_right">
        <span> User</span>
        <img src="" style="width: 30px; height: 30px; border-radius: 50%;">
      </div>
    </div>
<div class="main_content">
      <div class="insert_div"></div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  const onoff_Dropdown = (container, menu, isOpen) => {
    container.classList.toggle("open", isOpen);
    menu.style.height = isOpen ? `${menu.scrollHeight}px` : 0;
  };
  const closeAllDropdowns = () => {
    document.querySelectorAll(".drpdown_container.open").forEach((drp_container) => {
      onoff_Dropdown(drp_container, drp_container.querySelector(".drpdown-menu"), false);
    });
  };
  document.querySelectorAll(".dropdown_btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const dropdown = btn.closest(".drpdown_container");
      const menu = dropdown.querySelector(".drpdown-menu");
      const isOpen = dropdown.classList.contains("open");
      closeAllDropdowns();
      onoff_Dropdown(dropdown, menu, !isOpen);
    });
  });
  document.querySelectorAll(".sidebar_btn").forEach((Btn) => {
    Btn.addEventListener("click", () => {
      closeAllDropdowns();
    });
  });
  document.querySelectorAll(".mobile_menu_Btn").forEach((button) => {
    button.addEventListener("click", () => {
      closeAllDropdowns();
      document.querySelector(".sidebar").classList.toggle("collapsed");
      document.querySelector(".topbar").classList.toggle("topbar_full");
      document.querySelector(".main_content").classList.toggle("main_content_full");
    });
  });
  // Collapse sidebar by default on small screens
  if (window.innerWidth <= 1024) {
    document.querySelector(".sidebar").classList.add("collapsed");
    document.querySelector(".topbar").classList.add("topbar_full");
    document.querySelector(".main_content").classList.add("main_content_full");
  }

function loadPage(url) {
  fetch(url)
    .then(res => res.text())
    .then(data => {
      const container = document.querySelector(".insert_div");
      container.innerHTML = data;

      // Execute any scripts inside the loaded HTML
      container.querySelectorAll("script").forEach(oldScript => {
        const newScript = document.createElement("script");
        if (oldScript.src) {
          newScript.src = oldScript.src;
        } else {
          newScript.textContent = oldScript.textContent;
        }
        document.body.appendChild(newScript);
        oldScript.remove();
      });
    });
}

function searchStudent() {
  loadPage("students.html");
}
function stipendInfo() {
  loadPage("stipend.html");
}
function applicationList(){
   loadPage("waitingList.html");
}

function teacherList(){
   loadPage("teacherList.html");
}

</script>

  </body>
</html>